!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("@darkroom.engineering/tempus"),require("just-debounce-it"),require("nanoevents")):"function"==typeof define&&define.amd?define(["exports","react","@darkroom.engineering/tempus","just-debounce-it","nanoevents"],t):t((e||self).hamo={},e.react,e.Tempus,e.justDebounceIt,e.nanoevents)}(this,function(e,t,n,r,o){function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=/*#__PURE__*/u(n),c=/*#__PURE__*/u(r);function a(){var e=t.useState(!1),n=e[0],r=e[1];return t.useEffect(function(){r(!0)},[]),n}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function f(e){"sticky"===getComputedStyle(e).position&&(e.style.setProperty("position","static"),e.dataset.sticky="true"),e.offsetParent&&f(e.offsetParent)}function d(e){var t;"true"===(null==e||null==(t=e.dataset)?void 0:t.sticky)&&(e.style.removeProperty("position"),e.dataset.sticky="true",delete e.dataset.sticky),e.parentNode&&d(e.parentNode)}function l(e,t){void 0===t&&(t=0);var n=t+e.offsetTop;return e.offsetParent?l(e.offsetParent,n):n}function v(e,t){void 0===t&&(t=0);var n=t+e.offsetLeft;return e.offsetParent?v(e.offsetParent,n):n}function h(e,t){void 0===t&&(t=0);var n=t+e.scrollTop;return e.offsetParent?h(e.offsetParent,n):n+window.scrollY}function m(e,t){void 0===t&&(t=0);var n=t+e.scrollLeft;return e.offsetParent?m(e.offsetParent,n):n+window.scrollX}var b=o.createNanoEvents();function g(e){var n=void 0===e?{}:e,r=n.ignoreTransform,o=void 0!==r&&r,u=n.ignoreSticky,i=void 0===u||u,a=n.debounce,g=void 0===a?500:a,p=n.lazy,w=void 0!==p&&p,y=n.callback,E=t.useState(),S=E[0],k=E[1],z=t.useRef({}),P=t.useState({}),L=P[0],R=P[1],x=t.useCallback(function(e){var t,n,r,o,u,i=e.top,c=e.left,a=e.width,f=e.height,d=e.element;i=null!=(t=i)?t:z.current.top,c=null!=(n=c)?n:z.current.left,a=null!=(r=a)?r:z.current.width,f=null!=(o=f)?o:z.current.height,d=null!=(u=d)?u:z.current.element,i===z.current.top&&c===z.current.left&&a===z.current.width&&f===z.current.height&&d===z.current.element||(z.current.top=i,z.current.y=i,z.current.width=a,z.current.height=f,z.current.left=c,z.current.x=c,z.current.bottom=i+f,z.current.right=c+a,z.current.element=d,null==y||y(z.current),w||R(s({},z.current)))},[w]);t.useEffect(function(){if(S){var e=S.getBoundingClientRect();x({width:e.width,height:e.height});var t=c.default(function(e){var t=e[0];x({width:t.borderBoxSize[0].inlineSize,height:t.borderBoxSize[0].blockSize})},g),n=new ResizeObserver(t);return n.observe(S),function(){n.disconnect(),t.cancel()}}},[S,g,x]);var C=t.useState(),O=C[0],M=C[1],I=t.useCallback(function(){if(S){var e,t;if(i&&f(S),o)e=l(S),t=v(S);else{var n=S.getBoundingClientRect();e=n.top+h(S),t=n.left+m(S)}i&&d(S),x({top:e,left:t,element:S})}},[o,i,S,x]);t.useEffect(function(){I();var e=c.default(I,g),t=new ResizeObserver(e);return t.observe(null!=O?O:document.body),function(){t.disconnect(),e.cancel()}},[O,g,I]),t.useEffect(function(){return b.on("resize",function(){if(S){var e=S.getBoundingClientRect();x({width:e.width,height:e.height}),I()}})},[S,I,x]);var T=t.useCallback(function(){return z.current},[]);return[k,w?T:L,M]}g.resize=function(){b.emit("resize")},e.useDebug=function(){var e=a();return t.useMemo(function(){if(e){var t=window.location,n=t.href,r=new URLSearchParams(t.search),o=n.includes("#debug")||n.includes("/_debug")||r.has("debug")||"development"===process.env.NODE_ENV,u=n.includes("#production")||r.has("production");return o&&!u}},[e])},e.useDocumentReadyState=function(){var e=t.useState(),n=e[0],r=e[1];return t.useEffect(function(){function e(){r(document.readyState)}return document.addEventListener("readystatechange",e,!1),e(),function(){return document.removeEventListener("readystatechange",e,!1)}},[]),n},e.useFrame=function(e,n){void 0===n&&(n=0),t.useEffect(function(){if(e)return i.default.add(e,n),function(){return i.default.remove(e)}},[e,n])},e.useIntersectionObserver=function(e,n){var r=void 0===e?{}:e,o=r.root,u=void 0===o?null:o,i=r.rootMargin,c=void 0===i?"0px":i,a=r.threshold,s=void 0===a?0:a,f=r.once,d=void 0!==f&&f,l=r.lazy,v=void 0!==l&&l,h=r.callback,m=void 0===h?function(){}:h;void 0===n&&(n=[]);var b=t.useRef({}),g=t.useState({}),p=g[0],w=g[1],y=t.useState(),E=y[0],S=y[1];t.useEffect(function(){if(E){var e=new IntersectionObserver(function(t){var n=t[0];v?b.current=n:w(n),m(n),d&&n.isIntersecting&&e.disconnect()},{root:u,rootMargin:c,threshold:s});return e.observe(E),function(){e.disconnect()}}},[E,u,c,s,v,d].concat(n));var k=t.useCallback(function(){return b.current},[]);return[S,v?k:p]},e.useInterval=function(e,n,r){void 0===n&&(n=1e3),void 0===r&&(r=[]),t.useEffect(function(){var t=setInterval(e,n);return function(){return clearInterval(t)}},[n].concat(r))},e.useIsClient=a,e.useIsTouchDevice=function(){var e=t.useState(),n=e[0],r=e[1];return t.useEffect(function(){function e(){r("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)}return window.addEventListener("resize",e,!1),e(),function(){window.removeEventListener("resize",e,!1)}},[]),n},e.useMediaQuery=function(e){var n=t.useState(),r=n[0],o=n[1];return t.useEffect(function(){var t=window.matchMedia(e);function n(){o(t.matches)}return t.addEventListener("change",n,!1),n(),function(){return t.removeEventListener("change",n,!1)}},[e]),r},e.useOutsideClickEvent=function(e,n){var r=t.useCallback(function(t){e.current&&!e.current.contains(t.target)&&n()},[e,n]);t.useEffect(function(){if(e.current)return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[r,e])},e.useRect=g,e.useResizeObserver=function(e){var n=void 0===e?{}:e,r=n.lazy,o=void 0!==r&&r,u=n.debounce,i=void 0===u?500:u,a=n.box,s=void 0===a?"border-box":a,f=n.callback,d=void 0===f?function(){}:f,l=t.useRef({}),v=t.useState({}),h=v[0],m=v[1],b=t.useState(),g=b[0],p=b[1];t.useEffect(function(){if(g){var e=c.default(function(e){var t=e[0];l.current=t,d(t),o||m(t)},i,!0),t=new ResizeObserver(e);return t.observe(g,{box:s}),function(){t.disconnect(),e.cancel()}}},[g,o,i,s]);var w=t.useCallback(function(){return l.current},[]);return[p,o?w:h]},e.useSlots=function(e,n){void 0===e&&(e=[]),void 0===n&&(n=[]);var r=t.useMemo(function(){return n&&[n].flat()},[n]),o=t.useMemo(function(){return e&&[e].flat()},[e]);return t.useMemo(function(){if(r&&o){var t=o.map(function(e){var t;return null==(t=r.find(function(t){return t.type===e}))?void 0:t.props.children});return e[0]?t:t[0]}},[r,o])},e.useWindowSize=function(e){void 0===e&&(e=500);var n=t.useState(),r=n[0],o=n[1],u=t.useState(),i=u[0],a=u[1];return t.useEffect(function(){var t=c.default(function(){o(Math.min(window.innerWidth,document.documentElement.clientWidth)),a(Math.min(window.innerHeight,document.documentElement.clientHeight))},e);return window.addEventListener("resize",t,!1),t(),function(){return window.removeEventListener("resize",t,!1)}},[e]),{width:r,height:i}}});
//# sourceMappingURL=hamo.umd.js.map
